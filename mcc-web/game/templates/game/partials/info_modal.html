<!-- Copyright (c) 2026 SAI-Lab / MyCyclingCity
     SPDX-License-Identifier: AGPL-3.0-or-later
     
     @file    info_modal.html
     @author  Roland Rutz
     @note    This code was developed with the assistance of AI (LLMs).
-->

{% load i18n %}
<div class="info-hub-modal-overlay" id="info-hub-modal-overlay" onclick="closeInfoHubModal(event)">
    <div class="info-hub-modal" onclick="event.stopPropagation()">
        <!-- Header: Project Name and Version -->
        <div class="info-hub-header">
            <h2 class="info-hub-title">{% trans "Kilometer-Challenge" %}</h2>
            <div class="info-hub-version">
                <span class="info-hub-version-label">{% trans "Version" %}:</span>
                <span class="info-hub-version-value">{{ PROJECT_VERSION|default:"dev" }}</span>
            </div>
        </div>

        <!-- Middle Part: FAQ Section -->
        <div class="info-hub-body">
            <div class="info-hub-section">
                <h3 class="info-hub-section-title">{% trans "Kurzanleitung" %}</h3>
                <div class="info-hub-faq">
                    <div class="info-hub-accordion-item">
                        <div class="info-hub-accordion-header" onclick="toggleInfoHubFAQItem(this)">
                            <div class="info-hub-accordion-question">{% trans "Wie funktioniert das Spiel?" %}</div>
                            <div class="info-hub-accordion-icon">‚ñº</div>
                        </div>
                        <div class="info-hub-accordion-content">
                            <div class="info-hub-accordion-answer">
                                {% trans "Weisen Sie Radler Ger√§ten zu, setzen Sie optional ein Ziel in Kilometern und starten Sie das Spiel. Das System verfolgt automatisch die zur√ºckgelegten Kilometer und berechnet die verdienten Coins." %}
                            </div>
                        </div>
                    </div>
                    <div class="info-hub-accordion-item">
                        <div class="info-hub-accordion-header" onclick="toggleInfoHubFAQItem(this)">
                            <div class="info-hub-accordion-question">{% trans "Was sind Spielr√§ume?" %}</div>
                            <div class="info-hub-accordion-icon">‚ñº</div>
                        </div>
                        <div class="info-hub-accordion-content">
                            <div class="info-hub-accordion-answer">
                                {% trans "Spielr√§ume erm√∂glichen es mehreren Spielern, gemeinsam an derselben Challenge teilzunehmen. Der Raum-Ersteller ist der Spielleiter und kann Einstellungen √§ndern. Alle Teilnehmer sehen die gleichen Ergebnisse in Echtzeit." %}
                            </div>
                        </div>
                    </div>
                    <div class="info-hub-accordion-item">
                        <div class="info-hub-accordion-header" onclick="toggleInfoHubFAQItem(this)">
                            <div class="info-hub-accordion-question">{% trans "Wie werden Coins berechnet?" %}</div>
                            <div class="info-hub-accordion-icon">‚ñº</div>
                        </div>
                        <div class="info-hub-accordion-content">
                            <div class="info-hub-accordion-answer">
                                {% trans "Coins werden basierend auf den zur√ºckgelegten Kilometern und einem individuellen Umrechnungsfaktor jedes Radlers berechnet. Die Formel lautet: Coins = Kilometer √ó Umrechnungsfaktor." %}
                            </div>
                        </div>
                    </div>
                </div>
                <a href="https://codeforberlin.github.io/mycyclingcity/guides/game/" target="_blank" class="info-hub-wiki-link">
                    üìö {% trans "Ausf√ºhrliche Dokumentation im Wiki" %}
                </a>
            </div>

            <!-- Language Switcher -->
            <div class="info-hub-section">
                <h3 class="info-hub-section-title">{% trans "Sprache" %}</h3>
                <form method="post" action="{% url 'set_language' %}" class="info-hub-language-form">
                    {% csrf_token %}
                    <input type="hidden" name="next" value="{{ request.get_full_path }}">
                    {% get_current_language as current_lang %}
                    <select name="language" id="info-hub-language-select" onchange="this.form.submit();" class="info-hub-language-select">
                        {% for lang_code, lang_name in LANGUAGES %}
                            <option value="{{ lang_code }}" {% if lang_code == current_lang or lang_code|slice:":2" == current_lang|slice:":2" %}selected{% endif %}>
                                {% if lang_code == 'de' %}Deutsch{% elif lang_code == 'en' %}English{% else %}{{ lang_name }}{% endif %}
                            </option>
                        {% endfor %}
                    </select>
                </form>
            </div>
        </div>

        <!-- Footer: Legal Links -->
        <div class="info-hub-footer">
            <div class="info-hub-footer-content">
                <a href="https://sai-lab.de/index.php/de/impressum" target="_blank" class="info-hub-footer-link">{% trans "Impressum" %}</a>
                <span class="info-hub-footer-separator">|</span>
                <a href="{% url 'privacy_policy' %}" class="info-hub-footer-link">{% trans "Datenschutzerkl√§rung" %}</a>
                <span class="info-hub-footer-separator">|</span>
                <span class="info-hub-footer-copyright">&copy; 2026 <a href="https://sai-lab.de" target="_blank">SAI-LAB Berlin</a></span>
            </div>
        </div>

        <!-- Close Button -->
        <button class="info-hub-close" onclick="closeInfoHubModal()" title="{% trans 'Schlie√üen' %}">&times;</button>
    </div>
</div>
