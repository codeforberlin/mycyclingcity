{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:mgmt_log_file_list' %}">{% trans 'Log Files' %}</a>
</div>
{% endblock %}

{% block content %}
<div class="module">
    <table id="result_list" class="table table-striped">
        <thead>
            <tr>
                <th>{% trans 'Log File' %}</th>
                <th>{% trans 'Description' %}</th>
                <th>{% trans 'Size' %}</th>
                <th>{% trans 'Status' %}</th>
                <th>{% trans 'Actions' %}</th>
            </tr>
        </thead>
        <tbody>
            {% for log_file in log_files %}
            <tr>
                <td>
                    <strong>{{ log_file.display_name }}</strong><br>
                    <small style="color: #666;">{{ log_file.name }}</small>
                </td>
                <td>{{ log_file.description }}</td>
                <td>
                    {% if log_file.exists %}
                        {{ log_file.size_mb }} MB
                    {% else %}
                        <span style="color: #999;">-</span>
                    {% endif %}
                </td>
                <td>
                    {% if log_file.exists %}
                        <span style="color: green;">âœ“ {% trans 'Available' %}</span>
                    {% else %}
                        <span style="color: #999;">{% trans 'Not created yet' %}</span>
                    {% endif %}
                </td>
                <td>
                    {% if log_file.exists %}
                        <a href="{% url 'admin:mgmt_log_file_viewer' log_file.key %}" class="button">
                            {% trans 'View Logs' %}
                        </a>
                    {% else %}
                        <span style="color: #999;">-</span>
                    {% endif %}
                </td>
            </tr>
            {% if log_file.rotated_files %}
            <tr style="background-color: #f9f9f9;">
                <td colspan="5" style="padding-left: 40px;">
                    <small><strong>{% trans 'Rotated Files' %}:</strong>
                    {% for rotated in log_file.rotated_files %}
                        <a href="{% url 'admin:mgmt_log_file_viewer_rotated' log_file.key rotated.index %}" style="margin-left: 10px;">
                            {{ rotated.name }} ({{ rotated.size_mb }} MB)
                        </a>
                    {% endfor %}
                    </small>
                </td>
            </tr>
            {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="module" style="margin-top: 20px;">
    <h2>{% trans 'Information' %}</h2>
    <p>
        {% trans 'Log files are stored in the logs/ directory. You can view and search through log entries directly in the Admin GUI.' %}
    </p>
    <p>
        <strong>{% trans 'Note' %}:</strong> {% trans 'Large log files may take a moment to load. Use the search and filter options to find specific entries.' %}
    </p>
</div>
{% endblock %}
