<!-- Copyright (c) 2026 SAI-Lab / MyCyclingCity
     SPDX-License-Identifier: AGPL-3.0-or-later
     
     @file    change_form.html
     @author  Roland Rutz
     @note    This code was developed with the assistance of AI (LLMs).
-->

{% extends "admin/change_form.html" %}
{% load i18n %}

{% block submit_buttons_bottom %}
{{ block.super }}
{% if original.pk %}
<div class="submit-row" style="background: #f8f9fa; border-top: 1px solid #ddd; padding: 10px; margin-top: 10px;">
    <p style="margin: 0 0 10px 0; font-weight: bold;">{% trans "Event Management" %}:</p>
    <a href="{% url 'admin:eventboard_event_restart' original.pk %}"
       class="button"
       style="background: #ba2121; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px; margin-right: 10px;"
       onclick="return confirm('{% trans "Sind Sie sicher, dass Sie dieses Event zurücksetzen möchten? Der aktuelle Fortschritt wird in die Historie gespeichert." %}');">
        {% trans "Event zurücksetzen" %}
    </a>
    <a href="{% url 'admin:eventboard_event_save_history' original.pk %}"
       class="button"
       style="background: #417690; color: white; padding: 10px 15px; text-decoration: none; border-radius: 4px;"
       onclick="return confirm('{% trans "Aktuellen Event-Fortschritt in die Historie speichern?" %}');">
        {% trans "In Historie speichern" %}
    </a>
</div>
{% endif %}
{% endblock %}
